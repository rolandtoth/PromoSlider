/*
 * PromoSlider v1.0 - JavaScript Image Slider
 * https://github.com/rolandtoth/PromoSlider
 * last update: 2014.07.30.
 *
 * Licensed under the MIT license
 * Copyright 2014 Roland Toth (tpr)
 *
 */
var isWebkit=document.addEventListener&&document.documentElement.style.hasOwnProperty("WebkitAppearance"),
supportsTransitions=(function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(a.transition===""
)return true;while(b.length)if(document.addEventListener&&a.hasOwnProperty(b.pop()+"Transition"))return true;
return false})();if(!Array.prototype.indexOf)Array.prototype.indexOf=function(c,d){var a=d||0,b=this.length;for(a;a<b;a=
a+1)if(this[a]===c)return a;return-1};function getUrlOptions(f){var e,d,c,a,b,g=window.location.search.substring(1);e=g.
split("&");for(b=0;b<e.length;b=b+1){d=e[b].split("=");c=d[0];a=d[1];if(a&&f.hasOwnProperty(c)){a=a==="true"?true:a;a=a
==="false"?false:a;f[c]=a}}}function prefixer(b,a){a=a||"";return" "+a+b+" "+a+"-webkit-"+b+" "}function opacity(b,a){a=
a?" !important":"";return" opacity:"+b/100+a+'; -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity='+b+a+
')"; filter:alpha(opacity='+b+a+"); "}function verticalCenter(){var b="",a;if(arguments.length){for(a=0;a<arguments.
length;a=a+1)b+=arguments[a]+':before {content: ""; display: inline-block; height: 100%; vertical-align: middle;}';
return b}}var cookie={createCookie:function(d,e,b){var c="",a;if(b&&b!=="session"){a=new Date();a.setTime(a.getTime()+b*
24*60*60*1000);c="; expires="+a.toGMTString()}document.cookie=d+"="+e+c+"; path=/;"},readCookie:function(e){var b,a,d=e+
"=",c=document.cookie.split(";");for(b=0;b<c.length;b+=1){a=c[b];while(a.charAt(0)===" ")a=a.substring(1,a.length);if(a.
indexOf(d)===0)return a.substring(d.length,a.length)}return null},eraseCookie:function(a){this.createCookie(a,"",-1)}};
function addEvent(a,b,c){if(a.addEventListener)a.addEventListener(b,c,false);else a.attachEvent("on"+b,function(d){
return c.call(a,d)})}function removeEvent(a,c,b){if(a.removeEventListener)a.removeEventListener(c,b,false);if(a.
detachEvent)a.detachEvent("on"+c,b)}function addClass(a,b,c){if(a)if(c)a.className=b;else{if(a.className&&a.className.
indexOf(b)!==-1)return false;a.className+=" "+b}}function removeClass(a,b){if(a&&a.className)a.className=a.className.
replace(b,"")}function makeElement(e,b,d){var c=document.createElement(e),a;for(a in b)if(b.hasOwnProperty(a))if(b[a])c.
setAttribute(a,b[a]);if(d)c.innerHTML=d;return c}function callCallBack(c,e,a,b,f){var d=e||window.event;b=b||null;a=a||
null;if(typeof c==="function")c(d,a,b+1,f)}function loadSprite(c,b){var a=new Image();a.onload=b;a.src=c}function 
isArray(a){return Object.prototype.toString.call(a)==="[object Array]"}function findInArray(a,c){var b;if(!a)
return false;if(isArray(a)&&a.length===0)return false;a=typeof a==="string"?[a]:a;for(b=0;b<a.length;b=b+1)if(c.indexOf(
a[b])!==-1)return true;return false}function shuffleArray(a){var b=a.length,d,c;while(0!==b){c=Math.floor(Math.random()*
b);b-=1;d=a[b];a[b]=a[c];a[c]=d}return a}function preventDefault(a){if(a)if(a.preventDefault)a.preventDefault();else a.
returnValue=false}function checkRandomSeed(a){var b=Math.floor(Math.random()*(1/a));return b===0}function PromoSlider(d)
{var s,v,t,u=document.getElementsByTagName("head")[0],q=document.body,r=window.location.href,b=this;b.getSlide=function(
a){var c=a<0?b.promo.slides.childNodes.length+a:a;return b.promo.slides.childNodes[c]};b.addStyles=function(){if(
document.getElementById("promoStyle"))return false;var c,a="48px";c=[
".promoContainer a {background: transparent; outline: none !important;}",(".promoContainer {"+opacity(0)+
"position: fixed; width: 100%; height: 100%; text-align: center; top: 0; left: 0; z-index: 9991; pointer-events: none;}"
),".promoContainer * {color: #fff; text-decoration: none;}",
".promoContainer.single .promoSlides {width: 100% !important; left: 0 !important;}",(
".promoContainer.single .promoSlide {width: 100% !important; visibility: visible;"+prefixer(
"transition: none !important;")+"}"),(
".promoOverlay {position: fixed; width: 100%; height: 100%; top: 0; left: 0; z-index: 9990; background: #000;"+opacity(
70)+"pointer-events: all;}"),
".promoContent {position: relative; display: block; z-index: 9992; pointer-events: all; margin: 0 auto; top: 15%;}",(
'.promoContent:after {content: ""; display: block; padding-top: '+d.ratio*100+"%;}"),
".promoSlidesWrap {height: 100%; top: 0; bottom: 0; right: 0; left: 0; overflow: hidden; position: absolute;}",
".promoSlides {list-style: none; margin: 0; padding: 0; width: 100%; height: 100%; position: relative;}",
".embed .promoSlidesWrap {max-width: none; height: 100%;}",".promoContent.embed * {color: #000;}",
".promoContent.embed {margin: 20px; clear: both; position: relative; top: 0; left: auto; right: auto; bottom: auto; z-index: 9980;}"
,".promoContent.embed .promoCaption {color: #fff;}",(".promoSlide {"+prefixer("transform-origin: center;")+
"width: 100%; height: 100%; display: block; position: relative; text-align: center;}"),
".slideContent {height: 100%; overflow: hidden;}",
".slideContentInner {width: auto; height: auto; display: inline-block; max-width: 100%; max-height: 100%; position: relative;}"
,
".promoImage, .promoLink {position: relative; display: inline-block; max-width: 100%; max-height: 100%; margin: 0 auto;}"
,'.embed .promoLink[href="#close"] {cursor: default;}',".promoImage {vertical-align: middle; border: none;}",
verticalCenter(".slideContent"),(".promoClose {position: absolute; top: -"+a+
"; right: -16px; display: block; text-align: right; padding: 0 16px; z-index: 9992; font: normal 17px/"+a+" sans-serif;"
+opacity(75)+"transition: 0.25s opacity; z-index: 9998;}"),".promoClose.inside {top: 0; right: 0;}",(
".promoCounter {position: absolute; top: -"+a+"; left: 0; margin: 0; z-index: 9997; font: normal 15px/"+a+
" sans-serif; display: inline-block;"+opacity(99)+"}"),(".promoHidden {"+opacity(0,true)+
"pointer-events: none !important;}"),
".promoCaption {width: 100%; box-sizing: border-box; position: absolute; bottom: 0; padding: 20px 24px; margin: 0; background: rgba(0,0,0,0.5); line-height: 1.5;}"
,".promoCaption.top {top: 0; bottom: auto;}",
".actionButtons {width: 100%; position: absolute; top: 100%; padding: 8px 0 0; text-align: center; z-index: 9997;}",(
".actionButtons.top {top: -"+a+"; bottom: auto;}"),
".actionButtons a {display: inline-block; text-decoration: underline; padding: 4px 8px; margin: 0 5px;}",
".promoSlides {width: 400%; left: -100%;}",(".promoNext, .promoPrev {position: absolute; top: 0; left: -"+a+"; width: "+
a+"; padding: 0; text-align: center; height: 100%; display: inline-block;"+opacity(50)+prefixer(
"transition: opacity 0.25s;")+"z-index: 9997; -webkit-transform: translateZ(0);}"),(".promoNext {left: auto; right: -"+a
+";}"),
".promoNext span, .promoPrev span {font: normal 64px/0 sans-serif; display: inline-block; position: absolute; left: 0; top: 48.7%; width: 100%;}"
,".promoNext.inside {right: 0;}",".promoPrev.inside {left: 0;}",".promoPager.inside {top: 0; bottom: auto;}",(
".promoPager.bottom {top: auto; bottom: -"+a+";}"),".promoPager.inside.bottom {top: auto; bottom: 0;}",
".promoCounter.inside {top: 0; left: 16px;}",(
".promoContent:hover .promoNext:hover, .promoContent:hover .promoPrev:hover {"+opacity(99)+"}"),(
".promoSlide {width: 100%; float: left;"+prefixer("transition: width "+d.slideDuration+"s "+d.easing+";")+"}"),
".promoSlide:first-child {overflow: hidden; width: 1px; visibility: hidden; margin-left: -1px;}",(
".promoSlide:first-child + .promoSlide, .promoSlide:first-child + .promoSlide + .promoSlide, .promoSlide:first-child + .promoSlide + .promoSlide + .promoSlide {width: 25%;"
+opacity(99)+"}"),(".promoSlide:first-child + .promoSlide + .promoSlide {"+prefixer("transition: none;")+"}"),(
".promoPager {position: absolute; top: -"+a+"; left: 20%; width: 60%; text-align: center; z-index: 9997;}"),(
".promoPager a {display: inline-block; position: relative; padding: 0 6px; margin: 0;"+opacity(50)+"font: normal 36px/"+
a+" sans-serif;"+prefixer("transition: opacity "+d.slideDuration+"s ease-out;")+
"-webkit-transform: translateZ(0); text-decoration: none;}"),(
".promoPager a.active, .promoPager a.active:hover, .promoPager a:hover {"+opacity(99)+prefixer(
"transition-duration: 0.5s;)")+"}"),(".promoPager.thumb a {padding: 0; font: normal 32px/"+a+" sans-serif; top: -4px;}")
,".promoPager a img {width: auto; height: 32px; margin-top: 8px;}",(".promoPager.numeric a {font: normal 17px/"+a+
" sans-serif; position: relative; padding-top: 0; padding-bottom: 0;}"),
".promoContent.stretch .promoLink, .promoContent.stretch .promoImage, .promoContent.stretch .slideContentInner {width: 100% !important; height: 100% !important;}"
].join("");c+=[".promoContainer.interstitial * {color: #000;}",(".promoOverlay {background: #fff;"+opacity(99)+"}"),
".interstitialText {z-index: 9996; position: fixed; top: 0; left: 0; width: 100%; pointer-events: all;}",
".interstitialSkipText {text-decoration: underline;}",".promoCaption {color: #fff;}"].join(
".promoContainer.interstitial ");c+=[".promoContent.fullscreen {width: 100%;}",
" .promoSlidesWrap, .promoContent.fullscreen {top: 0; left: 0; right: 0;}",
", .promoContent.fullscreen .promoSlidesWrap {margin: 0; padding: 0; height: 100%; max-width: 100% !important; max-height: 100% !important;}"
," .promoImage, .promoContent.fullscreen .promoLink {height: 100%; width: auto; max-width: none;}",
" .slideContentInner {height: 100%;}",(" .actionButtons {margin: 0; position: absolute; bottom: "+a+"; top: auto;}"),
" .promoPrev, .promoContent.fullscreen .promoNext {width: 120px;}"," .promoPrev {left: 0;}"," .promoNext {right: 0;}",(
" .promoClose {right: "+a+"; top: 3%; bottom: auto;}"),(" .promoCounter {left: "+a+"; top: 3%; bottom: auto;}"),
" .promoPager {top: 3%; bottom: auto;}"].join(".promoContent.fullscreen");c+=[(
".promoContent.hover.counter .promoCounter { "+opacity(0)+prefixer("transition: opacity 0.25s;")+" }"),(
":hover .promoCounter { "+opacity(99)+" }"),(".close .promoClose { "+opacity(0)+" }"),(":hover .promoClose { "+opacity(
75)+" }"),(".arrows .promoNext { "+opacity(0)+" }"),(".arrows .promoPrev { "+opacity(0)+" }"),(":hover .promoNext { "+
opacity(50)+" }"),(":hover .promoPrev { "+opacity(50)+" }"),(".pager .promoPager { "+opacity(0)+prefixer(
"transition: opacity 0.25s;")+" }"),(":hover .promoPager { "+opacity(99)+" }")].join(".promoContent.hover");c+=[
".promoContent.vertical .promoSlides {width: 100%; left: 0; height: 400%; top: 0;}",(
".promoSlide {top: -25%; width: 100%; float: none; height: auto;"+prefixer("transition-property: height;")+prefixer(
"transform-origin: center;")+"}"),".promoSlide:first-child {width: 100%; height: 0;}",
".slideContent {width: 100%; display: inline-block; position: relative;}",".promoLink {width: 100%;}",
".promoSlide:first-child + .promoSlide, .promoContent.vertical .promoSlide:first-child + .promoSlide + .promoSlide, .promoContent.vertical .promoSlide:first-child + .promoSlide + .promoSlide + .promoSlide {width: 100%; left: 0; height: 25%;}"
].join(".promoContent.vertical ");c+=[".promoContent.fade .promoSlides {left: 0;}",(".promoSlide {z-index: 94;"+opacity(
0)+prefixer("transition: opacity "+d.slideDuration+"s "+d.easing+" !important;")+"}"),(
".promoSlide:first-child {left: 25%;"+prefixer("transition: none;")+"}"),(".promoSlide:first-child + .promoSlide {"+
opacity(0)+"}"),(".promoSlide:first-child + .promoSlide + .promoSlide {z-index: 97; left: -25%;"+opacity(99)+"}"),(
".promoSlide:first-child + .promoSlide + .promoSlide + .promoSlide {left: -50%;"+opacity(0)+"}")].join(
".promoContent.fade ");if(d.fadeInDuration>0)c+=[prefixer("keyframes promoFadeIn {from {opacity: 0} to {opacity: 1}}",
"@"),(".promoContainer {"+prefixer("animation: promoFadeIn "+d.fadeInDuration+"s ease-in 0.2s 1 forwards;")+"}")].join(
"");else c+=".promoContainer {"+opacity(99)+" }";if(d.fadeOutDuration>0)c+=[prefixer(
"keyframes promoFadeOut {from {opacity: 1} to {opacity: 0}}","@"),(".promoContainer.fadeOut {"+prefixer(
"animation: promoFadeOut "+d.fadeOutDuration+"s ease-out;")+"}")].join("");if(!supportsTransitions)c+=
".promoContainer {"+opacity(100)+"}";if(!document.addEventListener)c+=[
".slideContentInner {width: 100%; height: 100%; position: absolute; left: 0;}",(".promoContainer {"+opacity(100)+"}"),(
".promoSlide * {"+opacity(100)+"}"),".promoLink {display: block;}"].join("");b.styles=makeElement("style",{id:
"promoStyle",type:"text/css"});if(b.styles.styleSheet)b.styles.styleSheet.cssText=c;else b.styles.appendChild(document.
createTextNode(c));if(u.firstChild)u.insertBefore(b.styles,u.firstChild);else u.appendChild(b.styles)};b.init=function()
{var f,c,h,g,e=Math.round(new Date().getTime()/1000);d.actionButtons=d.actionButtons||null;d.actionButtonsPosition=d.
actionButtonsPosition||"bottom";d.activeSlide=d.activeSlide||1;d.appendTo=d.appendTo||null;d.autoCloseSeconds=d.
autoCloseSeconds||null;d.autoPlay=d.autoPlay||null;d.captionPosition=d.captionPosition||"bottom";d.close=d.close!==false
;d.closeButtonOnHover=d.closeButtonOnHover||null;d.closeButtonPosition=d.closeButtonPosition||"top";d.closeButtonText=d.
closeButtonText||"\xD7";d.counter=d.counter||null;d.counterOnHover=d.counterOnHover||null;d.counterPosition=d.
counterPosition||"outside";d.customClass=d.customClass||"promoSlider";d.deleteCookieOnUrl=d.deleteCookieOnUrl||null;d.
disableKeyNav=d.disableKeyNav||null;d.disableNavArrows=d.disableNavArrows||null;d.easing=d.easing||"ease-in-out";d.
effect=d.effect||null;d.endDate=d.endDate||null;d.fadeInDuration=d.fadeInDuration||0;d.fadeOutDuration=d.fadeOutDuration
||0;d.firstSlide=d.firstSlide||1;d.fitContent=d.fitContent||null;d.forceOnUrl=d.forceOnUrl||null;d.frequency=d.frequency
||null;d.fullscreen=d.fullscreen||null;d.height=d.height||null;d.hideOnUrl=d.hideOnUrl||null;d.infinite=d.infinite!==
false;d.interstitialDuration=d.interstitialDuration||null;d.interstitialSkipText=d.interstitialSkipText||"Skip this ad";
d.interstitialText=d.interstitialText||"or wait %s seconds";d.loadDelay=d.loadDelay||null;d.maxSlides=d.maxSlides||null;
d.modal=d.modal!==false;d.navArrowsOnHover=d.navArrowsOnHover||null;d.navArrowsPosition=d.navArrowsPosition||"outside";d
.noCloseOnClick=d.noCloseOnClick||false;d.keyClose=d.keyClose!==false;d.pauseOnHover=d.pauseOnHover!==false;d.
onPromoClick=d.onPromoClick||null;d.onPromoClose=d.onPromoClose||null;d.onPromoStart=d.onPromoStart||null;d.overlay=d.
overlay!==false;d.pager=d.pager||d.pager!==false;d.pagerOnHover=d.pagerOnHover||null;d.pagerPosition=d.pagerPosition||
"top";d.promoID=d.promoID||"promoSlider";d.randomize=d.randomize||false;d.reverseKeyNav=d.reverseKeyNav||false;d.
rewindOnEnd=d.rewindOnEnd||null;d.reverseDirection=d.reverseDirection||false;d.rootDir=d.rootDir||"";d.running=null;d.
showOnUrl=d.showOnUrl||null;d.showProbability=d.showProbability||1;d.slideDuration=d.slideDuration>=0?d.slideDuration:1;
d.slides=d.slides||null;d.startDate=d.startDate||null;d.state="lightbox";d.vertical=d.vertical||null;d.
waitAnimationFinish=d.waitAnimationFinish||null;d.width=d.width||null;if(!d.slides)return false;getUrlOptions(d);f=!!d.
forceOnUrl&&findInArray(d.forceOnUrl,r);c=!!d.deleteCookieOnUrl&&findInArray(d.deleteCookieOnUrl,r);h=(function(a){if(!a
||isArray(a)&&!a.length)return false;if(!!a&&!findInArray(a,r))return true})(d.showOnUrl);g=!!d.hideOnUrl&&findInArray(d
.hideOnUrl,r);if(!f){if(d.showProbability<1&&!checkRandomSeed(d.showProbability))return false;if(d.startDate)if(e<Math.
round(new Date(d.startDate).getTime()/1000))return false;if(d.endDate)if(e>Math.round(new Date(d.endDate).getTime()/1000
))return false;if(c)cookie.eraseCookie(d.promoID);if(h)return false;if(g)return false;if(d.frequency){if(cookie.
readCookie(d.promoID))return false;if(!c)cookie.createCookie(d.promoID,"1",d.frequency)}}if(!findInArray(d.easing,[
"linear","ease-in","ease-in-out"]))d.easing="ease-in-out";if(!isArray(d.slides))d.slides=[d.slides];if(d.autoPlay&&(
isNaN(d.autoPlay)||d.autoPlay<=0))d.autoPlay=null;if(d.effect==="fade")d.vertical=null;if(d.randomize)d.slides=
shuffleArray(d.slides);if(d.slides.length>1)b.initSlider();if(c)cookie.eraseCookie(d.promoID);if(d.interstitialDuration)
{d.interstitialDuration=d.interstitialDuration>0?d.interstitialDuration:30;d.overlay=true;d.modal=true;d.close=false;d.
closeButtonText=null;d.autoCloseSeconds=d.interstitialDuration;d.state="interstitial"}else if(d.appendTo){if(!document.
getElementById(d.appendTo))return false;d.appendTo=document.getElementById(d.appendTo);d.autoCloseSeconds=null;d.
interstitialDuration=null;d.fullscreen=null;d.state="embed"}else if(d.fullscreen)d.state="fullscreen";return true};b.
initSlider=function(){var a;d.maxSlides=parseInt(d.maxSlides,10);d.activeSlide=parseInt(d.activeSlide,10);d.firstSlide=
parseInt(d.firstSlide,10);d.slideNum=d.slides.length;if(d.firstSlide>1&&d.firstSlide<=d.slideNum)for(a=1;a<d.firstSlide;
a=a+1)d.slides.push(d.slides.shift());if(d.maxSlides&&d.maxSlides>0)if(d.maxSlides<d.slides.length){d.slides.length=d.
maxSlides;d.slideNum=d.slides.length}if(d.activeSlide>d.slideNum)d.activeSlide=1;d.activeSlide=d.activeSlide-1;if(d.
slideNum>1)d.slider=true;else return false;if(d.slideNum<4)for(a=0;a<d.slideNum;a=a+1)d.slides.push(d.slides[a]);d.
slides.unshift(d.slides.pop());d.slides.unshift(d.slides.pop());d.seekAnimSpeed=d.slideDuration/d.slideNum*3/2;d.current
=0};b.buildPromo=function(){var m,c,i,h,p,g,k,l,w,j,f,o,a;b.promo={overlay:makeElement("div",{"class":"promoOverlay"}),
container:makeElement("div",{"class":"promoContainer"}),content:makeElement("div",{"class":"promoContent"}),slidesWrap:
makeElement("div",{"class":"promoSlidesWrap"}),slides:makeElement("ul",{"class":"promoSlides"}),close:makeElement("a",{
"class":"promoClose",href:"#"},d.closeButtonText),actionButtons:makeElement("div",{"class":"actionButtons"})};if(d.
interstitialDuration){b.promo.interstitialDurationCounter='<span id="interstitialCounter">'+d.interstitialDuration+
"</span>";d.interstitialText=d.interstitialText.replace("%s",b.promo.interstitialDurationCounter);b.promo.
interstitialText=makeElement("p",{"class":"interstitialText"},"&nbsp;"+d.interstitialText);b.promo.interstitialSkipText=
makeElement("a",{"class":"interstitialSkipText",href:"#"},d.interstitialSkipText);b.promo.interstitialText.insertBefore(
b.promo.interstitialSkipText,b.promo.interstitialText.firstChild);b.promo.container.appendChild(b.promo.interstitialText
);addClass(b.promo.container,"interstitial")}for(a=0;a<d.slides.length;a=a+1){k=d.rootDir+d.slides[a][0]||null;l=d.
slides[a][1]||null;w=d.slides[a][2]||"_self";j=d.slides[a][3]||null;if(k){i=makeElement("li",{"class":"promoSlide"});m=
makeElement("div",{"class":"slideContent"});c=makeElement("div",{"class":"slideContentInner"});p=makeElement("a",{
"class":"promoLink",href:l,target:w});g=makeElement("p",{"class":"promoCaption"},j);h=makeElement("img",{"class":
"promoImage",src:k});if(l)c.appendChild(p).appendChild(h);else c.appendChild(h);if(j){if(d.captionPosition==="top")
addClass(g,"top");c.appendChild(g)}m.appendChild(c);i.appendChild(m);b.promo.slides.appendChild(i)}}b.promo.slidesWrap.
appendChild(b.promo.slides);b.promo.content.appendChild(b.promo.slidesWrap);if(d.slider){if(d.activeSlide>0){for(a=0;a<d
.activeSlide;a=a+1)b.appendSlide();d.current=d.activeSlide}if(d.pager){o=function(n){var e;if(d.pager==="thumb")e=
makeElement("img",{src:d.rootDir+d.slides[b.getVisibleOrder(n)][0]});else e=makeElement("span",null,d.pager==="numeric"?
n+1:"\u2022");return e};b.promo.pager=makeElement("div",{"class":"promoPager"});for(a=0;a<d.slideNum;a=a+1){f=
makeElement("a",{href:"#"});f.appendChild(o(a));b.promo.pager.appendChild(f)}b.promo.content.appendChild(b.promo.pager)}
if(!d.disableNavArrows){b.promo.nextButton=makeElement("a",{"class":"promoNext",href:"#"},"<span>\u203A</span>");b.promo
.prevButton=makeElement("a",{"class":"promoPrev",href:"#"},"<span>\u2039</span>");b.promo.content.appendChild(b.promo.
nextButton);b.promo.content.appendChild(b.promo.prevButton)}if(d.counter){d.counter=typeof d.counter==="string"?d.
counter:"%current/%total";d.counter=d.counter.replace("%current",'<span class="current"></span>');d.counter=d.counter.
replace("%total",'<span class="total"></span>');b.promo.counter=makeElement("p",{"class":"promoCounter"},d.counter);b.
promo.content.appendChild(b.promo.counter)}}if(d.overlay&&!document.querySelector(".promoOverlay"))b.promo.container.
appendChild(b.promo.overlay);if(d.close&&!d.appendTo)b.promo.content.appendChild(b.promo.close);if(d.actionButtons&&d.
actionButtons.length){for(a=0;a<d.actionButtons.length;a=a+1)b.promo.actionButtons.appendChild(makeElement("a",{href:d.
actionButtons[a][1]||"#close",target:d.actionButtons[a][2]||"","class":d.actionButtons[a][3]||""},d.actionButtons[a][0])
);b.promo.content.appendChild(b.promo.actionButtons)}b.promo.container.appendChild(b.promo.content);if(d.state==="embed"
){d.appendTo.appendChild(b.promo.content);addClass(b.promo.content,"embed")}else q.appendChild(b.promo.container);
addClass(b.promo.container,d.customClass);addClass(b.promo.content,d.customClass);if(d.state==="fullscreen")addClass(b.
promo.content,"fullscreen");if(d.vertical)addClass(b.promo.content,"vertical");if(d.effect==="fade")addClass(b.promo.
content,"fade");if(d.navArrowsPosition==="inside"){addClass(b.promo.nextButton,"inside");addClass(b.promo.prevButton,
"inside")}if(d.closeButtonPosition==="inside")addClass(b.promo.close,"inside");if(d.counterPosition==="inside")addClass(
b.promo.counter,"inside");if(d.pager==="numeric")addClass(b.promo.pager,"numeric");else if(d.pager==="thumb")addClass(b.
promo.pager,"thumb");if(d.pagerPosition==="inside")addClass(b.promo.pager,"inside");if(d.pagerPosition==="bottom")
addClass(b.promo.pager,"bottom");if(d.actionButtonsPosition==="top")addClass(b.promo.actionButtons,"top");if(d.
closeButtonOnHover){addClass(b.promo.content,"hover");addClass(b.promo.content,"close")}if(d.counterOnHover){addClass(b.
promo.content,"hover");addClass(b.promo.content,"counter")}if(d.navArrowsOnHover){addClass(b.promo.content,"hover");
addClass(b.promo.content,"arrows")}if(d.pagerOnHover){addClass(b.promo.content,"hover");addClass(b.promo.content,"pager"
)}if(d.fitContent==="stretch")addClass(b.promo.content,"stretch");if(d.slider){for(a=0;a<d.slides.length;a=a+1){b.promo.
slides.childNodes[a].style.transitionDuration=d.slideDuration+"s";b.promo.slides.childNodes[a].style.
transitionTimingFunction=d.easing}b.events.onSlide()}else addClass(b.promo.container,"single");b.promo.content.style.
maxWidth=d.width;b.promo.content.style.maxHeight=d.height;b.repaintStyle(b.promo.slides.childNodes[0].querySelector(
".slideContentInner"))};b.appendSlide=function(a){a=d.reverseDirection?!a:a;if(b&&b.promo&&b.promo.slides){if(a)b.promo.
slides.insertBefore(b.getSlide(-1),b.getSlide(0));else b.promo.slides.appendChild(b.getSlide(0));b.events.onSlide(null)}
};b.setDimensions=function(h,g){var e,a,c="px",f=function(w){return String(w).indexOf("%")!==-1?"%":"px"};if(d.width&&d.
height){c=f(d.width);e=String(d.width).replace(c,"");a=String(d.height).replace("%","").replace("px","");d.ratio=a/e}
else{d.ratio=g/h;if(d.width){c=f(d.width);e=String(d.width).replace(c,"");a=e*d.ratio}else{c=f(d.height);a=String(d.
height).replace(c,"");e=a/d.ratio}if(isNaN(e))e=h;if(isNaN(a))a=g}d.width=e+c;d.height=a+c};b.getObjPosition=function(c)
{var a=0;while(c.previousSibling){a=a+1;c=c.previousSibling}return a};b.addListeners=function(){var a,h,j,e=b.promo.
actionButtons,f=function(c){return b.events.clickHandler(c,this)},i=function(c){return b.events.gotoSlide(c,b.
getObjPosition(this))},g=function(c){return b.promo.slides.childNodes[c].firstChild.firstChild};if(d.close)addEvent(b.
promo.close,"click",b.events.close);if(!d.modal)addEvent(b.promo.overlay,"click",b.events.close);if(e&&e.childNodes)for(
a=0;a<e.childNodes.length;a=a+1)addEvent(e.childNodes[a],"click",f);for(a=0;a<b.promo.slides.childNodes.length;a=a+1)if(
g(a).firstChild.nodeName==="A")addEvent(g(a).firstChild,"click",f);if(d.keyClose)addEvent(document,"keydown",b.events.
keyClose);if(d.interstitialDuration){j=b.promo.interstitialText.firstChild;addEvent(b.promo.interstitialSkipText,"click"
,b.events.close);h=document.getElementById("interstitialCounter");v=setInterval(function(){if(h){h.innerHTML=h.innerHTML
-1;if(h.innerHTML==="0"){b.promo.interstitialText.innerHTML="";b.promo.interstitialText.appendChild(j)}}else b.events.
stopTimer(v,true)},1000)}if(d.autoCloseSeconds)b.events.autoClose();if(d.slider){if(!d.disableNavArrows){addEvent(b.
promo.nextButton,"click",function(c){b.events.stepSlide(c)});addEvent(b.promo.prevButton,"click",function(c){b.events.
stepSlide(c,true)})}if(d.pager)for(a=0;a<b.promo.pager.childNodes.length;a=a+1)addEvent(b.promo.pager.childNodes[a],
"click",i);if(!d.disableKeyNav&&!d.appendTo)addEvent(document,"keydown",b.events.keyNav);addEvent(b.promo.content,
"mouseover",b.events.sliderHover);addEvent(b.promo.content,"mouseout",b.events.sliderBlur);b.events.toggleAutoPlay(true)
}};b.getVisibleOrder=function(a){a=a+2;if(a>=d.slideNum)a=a-d.slideNum;return a};b.setCounterValue=function(){var a=b.
promo.counter.querySelector(".current"),c=b.promo.counter.querySelector(".total");if(a)a.innerHTML=1+d.current;if(c)c.
innerHTML=d.slideNum};b.getNextSlides=function(g){var e,c,f=d.slideNum-1,a=g||d.current;if(a===f){e=a-1;c=0}else if(a===
0){e=f;c=1}else{e=a-1;c=a+1}d.prev=e;d.next=c};b.repaintStyle=function(a){var c;if(isWebkit){if(!a)return false;a.style.
display="none";c=a.offsetHeight;a.removeAttribute("style");return c}};b.events={sliderHover:function(){if(!d.
disableKeyNav&&d.appendTo)b.events.enableKeyNav();if(d.pauseOnHover)b.events.toggleAutoPlay();b.events.stopTimer(s)},
sliderBlur:function(){if(!d.disableKeyNav&&d.appendTo)b.events.disableKeyNav();b.events.toggleAutoPlay(true)},onSlide:
function(c,a){if(!d.slider)return false;c=c||window.event;a=a||d.current;b.getNextSlides();if(b.promo&&b.promo.pager){
if(b.promo.pager.querySelector("a.active"))b.promo.pager.querySelector("a.active").className="";b.promo.pager.
querySelectorAll("a")[a].className="active"}b.promo.slides.childNodes[1].className="promoSlide";b.promo.slides.
childNodes[2].className="promoSlide current";b.promo.slides.childNodes[3].className="promoSlide";b.repaintStyle(b.promo.
slides.childNodes[2].querySelector(".slideContentInner"));if(!d.disableNavArrows){removeClass(b.promo.prevButton,
" promoHidden",true);removeClass(b.promo.nextButton," promoHidden",true);if(!d.infinite){if(d.prev===d.slideNum-1)
addClass(b.promo.prevButton,"promoHidden");if(d.next===0)addClass(b.promo.nextButton,"promoHidden")}}if(d.counter)b.
setCounterValue()},stepSlide:function(c,a){preventDefault(c);if(!d.slider)return false;if(d.waitAnimationFinish&&d.
running)return false;if(!d.infinite){if(a&&d.prev===d.slideNum-1)return false;if(!a&&d.next===0)return false}if(d.
rewindOnEnd){if(!a&&d.next===0){b.events.gotoSlide(c,d.next);return false}if(a&&d.current===0){b.events.gotoSlide(c,d.
prev);return false}}if(d.waitAnimationFinish){d.running=true;setTimeout(function(){d.running=false},d.slideDuration*1000
)}d.current=a?d.prev:d.next;b.appendSlide(a)},gotoSlide:function(g,e){var c,h,f,a;preventDefault(g);if(!d.slider)
return false;e=e||0;if(d.waitAnimationFinish&&d.running)return false;if(!d.infinite&&e>d.slideNum-1)return false;c=e-d.
current;if(c===0)return false;f=c<0;c=Math.abs(c)-1;if(c===0){b.events.stepSlide(g,f);return false}d.current=e;d.running
=d.waitAnimationFinish;for(a=0;a<d.slides.length;a=a+1){b.promo.slides.childNodes[a].style.transitionDuration=d.
seekAnimSpeed+"s";b.promo.slides.childNodes[a].style.transitionTimingFunction="linear"}b.appendSlide(f);h=setInterval(
function(){if(c===0){d.running=false;for(a=0;a<d.slides.length;a=a+1){b.promo.slides.childNodes[a].style.
transitionDuration=d.slideDuration+"s";b.promo.slides.childNodes[a].style.transitionTimingFunction=d.easing}b.events.
stopTimer(h,true)}else{c=c-1;b.appendSlide(f)}},d.slideDuration/d.slideNum*1000)},destroyPromo:function(){if(b.promo.
container.parentNode)b.promo.container.parentNode.removeChild(b.promo.container);if(b.promo.content.parentNode)b.promo.
content.parentNode.removeChild(b.promo.content);if(b.styles)b.styles.parentNode.removeChild(b.styles);b=null},close:
function(a){preventDefault(a);if(!b)return false;if(d.appendTo){b.events.toggleEmbed();return false}callCallBack(d.
onPromoClose,a,null,d.current,d.state);if(b.promo.container)if(d.fadeOutDuration>0){addClass(b.promo.container,"fadeOut"
);setTimeout(function(){if(b)b.events.destroyPromo()},d.fadeOutDuration*1000)}else b.events.destroyPromo();if(b&&b.
events){b.events.stopTimer(s);b.events.stopTimer(v);b.events.stopTimer(t,true)}},stopTimer:function(a,c){if(a){if(c)
clearInterval(a);else clearTimeout(a);a=undefined}},enableKeyNav:function(){addEvent(document,"keydown",b.events.keyNav)
},disableKeyNav:function(){removeEvent(document,"keydown",b.events.keyNav)},toggleAutoPlay:function(c){if(d.autoPlay){b.
events.stopTimer(t,true);if(c)t=setInterval(function(a){b.events.stepSlide(a)},d.autoPlay*1000)}},autoClose:function(){s
=setTimeout(function(){b.events.close(null)},d.autoCloseSeconds*1000)},keyClose:function(a){if(b&&d.state!=="embed"&&a.
keyCode===27)b.events.close(a)},keyNav:function(a){if(d.slider&&b){if(a.keyCode===38||a.keyCode===39)b.events.stepSlide(
a,d.reverseKeyNav);if(a.keyCode===37||a.keyCode===40)b.events.stepSlide(a,!d.reverseKeyNav)}},toggleFullscreen:function(
){if(d.state==="interstitial")return false;if(d.state==="fullscreen"){removeClass(b.promo.content," fullscreen");d.state
="lightbox"}else{addClass(b.promo.content,"fullscreen");if(d.close){b.promo.content.appendChild(b.promo.close);addEvent(
b.promo.close,"click",b.events.close)}d.state="fullscreen"}b.repaintStyle(b.promo.slides.childNodes[0].querySelector(
".slideContentInner"));b.repaintStyle(b.promo.slides.childNodes[2].querySelector(".slideContentInner"));return false},
toggleEmbed:function(){if(d.appendTo)if(d.state!=="embed"){addClass(b.promo.container,"fadeOut");setTimeout(function(){b
.promo.overlay.parentNode.removeChild(b.promo.overlay);b.promo.container.parentNode.removeChild(b.promo.container);
removeClass(b.promo.container," fadeOut");removeClass(b.promo.content," fullscreen");addClass(b.promo.content,"embed");d
.appendTo.appendChild(b.promo.content);if(d.close)b.promo.close.parentNode.removeChild(b.promo.close);d.state="embed";b.
repaintStyle(b.promo.slides.childNodes[0].querySelector(".slideContentInner"));b.repaintStyle(b.promo.slides.childNodes[
2].querySelector(".slideContentInner"))},d.fadeOutDuration*1000)}else{q.appendChild(b.promo.container);b.promo.container
.appendChild(b.promo.content);b.promo.container.appendChild(b.promo.overlay);removeClass(b.promo.content," embed");if(d.
close){b.promo.content.appendChild(b.promo.close);addEvent(b.promo.close,"click",b.events.close)}d.state="lightbox";b.
repaintStyle(b.promo.slides.childNodes[0].querySelector(".slideContentInner"));b.repaintStyle(b.promo.slides.childNodes[
2].querySelector(".slideContentInner"))}},clickHandler:function(e,f){var g,c,a=f.href||"#close",h=f.target||"_self";if(e
)preventDefault(e);callCallBack(d.onPromoClick,e,f,d.current,d.state);g=a.indexOf("#slide");if(g!==-1)c=a.substr(g+6,1)-
1;if(a.indexOf("#first")!==-1)c=0;else if(a.indexOf("#last")!==-1)c=d.slideNum-1;else if(a.indexOf("#prev")!==-1)c=d.
current-1;else if(a.indexOf("#next")!==-1)c=d.current+1;if(c!==undefined){b.events.gotoSlide(e,c);return false}if(a.
indexOf("#fullscreen")!==-1){if(d.state==="embed")b.events.toggleEmbed();b.events.toggleFullscreen();return false}if(a.
indexOf("#lightbox")!==-1){if(d.appendTo)b.events.toggleEmbed();else b.events.close(e);return false}if(a.indexOf(
"#close")===-1)window.open(a,h);if(d.state!=="embed"&&(!d.noCloseOnClick||a.indexOf("#close")!==-1))b.events.close();
return false}};if(b.init())loadSprite(d.rootDir+d.slides[d.maxSlides===1?0:2][0],function(){b.setDimensions(this.width,
this.height);setTimeout(function(){callCallBack(d.onPromoStart,null,null,d.current,d.state);b.addStyles();b.buildPromo()
;b.addListeners()},d.loadDelay*1000)});return{gotoSlide:function(a){if(a!==d.current+1){if(a==="first")a=0;else if(a===
"last")a=d.slideNum-1;else if(a==="next")a=d.current+1;else if(a==="prev")a=d.current-1;else a=a-1;if(a>=d.slideNum||a<0
)return false;b.events.gotoSlide(null,a);return true}return false},stop:function(){b.events.toggleAutoPlay()},start:
function(){b.events.toggleAutoPlay(true)},close:function(){b.events.close(null)},current:function(){return d.current+1},
prev:function(){return d.prev+1},next:function(){return d.next+1},total:function(){return d.slideNum},toggleFullscreen:
function(){return b.events.toggleFullscreen()},toggleEmbed:function(){return b.events.toggleEmbed()},getState:function()
{return d.state},autoPlay:function(c,a){if(!a)d.autoPlay=4;return b.events.toggleAutoPlay(c)},setInfinite:function(a){d.
infinite=a?true:false;return b.events.onSlide(null)}}}